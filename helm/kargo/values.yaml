# Kargo Helm Chart values
# All values should be nested under 'kargo' key since kargo is a subchart dependency
kargo:
  controller:
    enabled: true
    logLevel: INFO

  api:
    enabled: true
    replicas: 1
    host: localhost
    logLevel: INFO
    logFormat: CONSOLE
    secretManagementEnabled: true
    permissiveCORSPolicyEnabled: false
    service:
      type: LoadBalancer
    adminAccount:
      enabled: true
      # Default credentials for dev/test - override in cluster-specific values for production
      passwordHash: "$2y$10$BnVJLSysDD/PIwdXaRRI.OPtjwh2U0TTdmT/Ju4euv0ql8BSchG76"
      tokenSigningKey: "i8flMsztEUD656zGakWrt7Fw1grWT5VCecRkOKiBrNw="
      tokenTTL: 24h
    oidc:
      enabled: false

  webhooks:
    enabled: true
    logLevel: INFO

  serviceAccount:
    create: true
    name: kargo-controller

  namespace: kargo

  global:
    clusterSecretsNamespace: kargo-cluster-secrets

  # Kargo Project configuration
  project:
    enabled: true
    name: msvc-system

  # Warehouse configuration
  warehouse:
    enabled: true
    name: msvc-system-warehouse
    repoURL: https://github.com/trawler/kargo-demo.git
    interval: 1m
    # branch and allowTags are set per-environment in values.stage-control.yaml and values.prod-control.yaml

  # Stages configuration
  stages:
    enabled: true
    stage:
      apps:
        - name: child-cert-manager-stage-workload
          namespace: argocd
    prod:
      apps:
        - name: child-cert-manager-prod-workload
          namespace: argocd
